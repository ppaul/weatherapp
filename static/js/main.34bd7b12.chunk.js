(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(7),s=n.n(r),i=(n(14),n(6)),o=n.n(i),u=n(9),p=n(8),h=n(2),l=(n(16),n(0));var d=function(e){var t=e.data,n=e.country,c=e.setSelectedDay,a=e.unit,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",n=new Intl.DateTimeFormat(e,{weekday:t,timeZone:"UTC"});return[1,2,3,4,5,6,7].map((function(e){var t=e<10?"0".concat(e):e;return new Date("2017-01-".concat(t,"T00:00:00+00:00"))})).map((function(e){return n.format(e)}))}(n),s=(new Date).getDay(),i="metric"===a?"\xb0C":"\xb0F";return Object(l.jsx)("ul",{children:t.map((function(e,t){var n=e.temp,a=n.min,o=n.max,u=e.weather,p=u&&u[0].icon;return Object(l.jsxs)("li",{className:"day",onClick:function(){return c(t+1)},children:[Object(l.jsx)("h3",{className:"name",children:r[(s+t)%7].substr(0,3)}),Object(l.jsxs)("div",{children:["\u2193"," ","".concat(parseInt(a)).concat(i," \u2191 ").concat(parseInt(o)).concat(i)]}),p&&Object(l.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(p,"@2x.png"),alt:"icon"})]},t.toString())}))})},j=(n(18),function(e){var t=e.unit,n=e.details,c=e.setSelectedDay,a="metric"===t?"\xb0C":"\xb0F";return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{onClick:function(){return c(null)},children:"\u2190"}),Object(l.jsx)("ul",{className:"hoursList",children:n&&n.map((function(e,t){var n=e.main,c=n.temp,r=n.feels_like,s=e.weather,i=e.dt_txt,o=s&&s[0].icon,u=i.split(" ")[1].substr(0,5);return Object(l.jsxs)("li",{className:"hour",children:[Object(l.jsx)("div",{children:u}),Object(l.jsx)("h2",{children:"".concat(parseInt(c)).concat(a)}),Object(l.jsx)("div",{children:"feels ".concat(parseInt(r)).concat(a)}),o&&Object(l.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(o,"@2x.png"),alt:"icon"})]},t.toString())}))})]})});var m=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("en"),s=Object(h.a)(r,2),i=s[0],m=s[1],b=Object(c.useState)("..."),f=Object(h.a)(b,2),x=f[0],O=f[1],g=Object(c.useState)("metric"),w=Object(h.a)(g,2),y=w[0],v=w[1],D=Object(c.useState)(null),k=Object(h.a)(D,2),S=k[0],C=k[1];return Object(c.useEffect)((function(){function e(){return(e=Object(p.a)(o.a.mark((function e(){var t,n,c,r,s,i,p,h,l,d,j,b,f,x,g,w,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.ipstack.com/check?access_key=".concat("6373a0be2903492e298c723f6b2d5928"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c=n.city,r=n.location.languages,O(c),s=r[0].code,m(s),i="metric","us"!==s&&"lr"!==s&&"mm"!==s||(i="imperial"),e.next=14,fetch("https://community-open-weather-map.p.rapidapi.com/forecast/daily?q=".concat(c,"&units=").concat(i),{method:"GET",headers:{"x-rapidapi-key":"df514bde0fmsh228181ab8682094p1eb686jsncbf678ca7145","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}});case 14:return p=e.sent,e.next=17,p.json();case 17:return h=e.sent,l=h.list,d=l.slice(0,5),a(d),v(i),e.next=24,fetch("https://community-open-weather-map.p.rapidapi.com/forecast?q=".concat(c,"&units=").concat(i),{method:"GET",headers:{"x-rapidapi-key":"df514bde0fmsh228181ab8682094p1eb686jsncbf678ca7145","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}});case 24:return j=e.sent,e.next=27,j.json();case 27:b=e.sent,f=b.list,x=0,g=0;do{w=new Date(1e3*d[g].dt).getDate(),y=new Date(1e3*f[x].dt).getDate(),w===y?(d[g].hours=d[g].hours?[].concat(Object(u.a)(d[g].hours),[f[x]]):[f[x]],x+=1):g+=1}while(x<f.length&&g<d.length);a(d);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("header",{className:"App-header",children:[S?Object(l.jsx)("h2",{children:"Day"}):Object(l.jsxs)("h2",{children:["Weekly weather in ",x]}),S?Object(l.jsx)(j,{details:n[S].hours,unit:y,setSelectedDay:C}):Object(l.jsx)(d,{data:n,country:i,unit:y,setSelectedDay:C})]})})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(m,{})}),document.getElementById("root")),b()}},[[19,1,2]]]);
//# sourceMappingURL=main.34bd7b12.chunk.js.map