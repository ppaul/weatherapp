(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(7),i=n.n(r),s=(n(14),n(6)),o=n.n(s),p=n(9),u=n(8),h=n(2),d=(n(16),n(0));var l=function(e){var t=e.data,n=e.country,c=e.setSelectedDay,a=e.unit,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",n=new Intl.DateTimeFormat(e,{weekday:t,timeZone:"UTC"});return[1,2,3,4,5,6,7].map((function(e){var t=e<10?"0".concat(e):e;return new Date("2017-01-".concat(t,"T00:00:00+00:00"))})).map((function(e){return n.format(e)}))}(n),i=(new Date).getDay(),s="metric"===a?"\xb0C":"\xb0F";return Object(d.jsx)("ul",{children:t.map((function(e,t){var n=e.temp,a=n.min,o=n.max,p=e.weather,u=p&&p[0].icon;return Object(d.jsxs)("li",{className:"day",onClick:function(){return c(t+1)},children:[Object(d.jsx)("h3",{className:"name",children:r[(i+t)%7].substr(0,3)}),Object(d.jsxs)("div",{children:["\u2193"," ","".concat(parseInt(a)).concat(s," \u2191 ").concat(parseInt(o)).concat(s)]}),u&&Object(d.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(u,"@2x.png"),alt:"icon"})]},t.toString())}))})},j=(n(18),function(e){var t=e.unit,n=e.details,c=e.setSelectedDay,a="metric"===t?"\xb0C":"\xb0F";return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:function(){return c(null)},children:"\u2190"}),Object(d.jsx)("ul",{className:"hoursList",children:n&&n.map((function(e,t){var n=e.main,c=n.temp,r=n.feels_like,i=e.weather,s=e.dt_txt,o=i&&i[0].icon,p=s.split(" ")[1].substr(0,5);return Object(d.jsxs)("li",{className:"hour",children:[Object(d.jsx)("div",{children:p}),Object(d.jsx)("h2",{children:"".concat(parseInt(c)).concat(a)}),Object(d.jsx)("div",{children:"feels ".concat(parseInt(r)).concat(a)}),o&&Object(d.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(o,"@2x.png"),alt:"icon"})]},t.toString())}))})]})});var m=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("en"),i=Object(h.a)(r,2),s=i[0],m=i[1],b=Object(c.useState)("..."),f=Object(h.a)(b,2),x=f[0],O=f[1],g=Object(c.useState)("metric"),w=Object(h.a)(g,2),y=w[0],v=w[1],D=Object(c.useState)(null),S=Object(h.a)(D,2),k=S[0],C=S[1];return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,n,c,r,i,s,u,h,d,l,j,b,f,x,g,w,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ip-geolocation-ipwhois-io.p.rapidapi.com/json/",{method:"GET",headers:{"x-rapidapi-key":"df514bde0fmsh228181ab8682094p1eb686jsncbf678ca7145","x-rapidapi-host":"ip-geolocation-ipwhois-io.p.rapidapi.com"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c=n.city,r=n.country_code,O(c),i=r.toLowerCase(),m(i),s="metric","us"!==i&&"lr"!==i&&"mm"!==i||(s="imperial"),e.next=14,fetch("https://community-open-weather-map.p.rapidapi.com/forecast/daily?q=".concat(c,"&units=").concat(s),{method:"GET",headers:{"x-rapidapi-key":"df514bde0fmsh228181ab8682094p1eb686jsncbf678ca7145","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}});case 14:return u=e.sent,e.next=17,u.json();case 17:return h=e.sent,d=h.list,l=d.slice(0,5),a(l),v(s),e.next=24,fetch("https://community-open-weather-map.p.rapidapi.com/forecast?q=".concat(c,"&units=").concat(s),{method:"GET",headers:{"x-rapidapi-key":"df514bde0fmsh228181ab8682094p1eb686jsncbf678ca7145","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}});case 24:return j=e.sent,e.next=27,j.json();case 27:b=e.sent,f=b.list,x=0,g=0;do{w=new Date(1e3*l[g].dt).getDate(),y=new Date(1e3*f[x].dt).getDate(),w===y?(l[g].hours=l[g].hours?[].concat(Object(p.a)(l[g].hours),[f[x]]):[f[x]],x+=1):g+=1}while(x<f.length&&g<l.length);a(l);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("header",{className:"App-header",children:[k?Object(d.jsx)("h2",{children:"Day"}):Object(d.jsxs)("h2",{children:["Weekly weather in ",x]}),k?Object(d.jsx)(j,{details:n[k].hours,unit:y,setSelectedDay:C}):Object(d.jsx)(l,{data:n,country:s,unit:y,setSelectedDay:C})]})})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),b()}},[[19,1,2]]]);
//# sourceMappingURL=main.f8f73d48.chunk.js.map